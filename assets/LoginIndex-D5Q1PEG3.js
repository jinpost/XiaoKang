import{n as k,m as S,c as V,e as R,g as A,a as q,w as T,u as L,B as U,r as D,I as M,p as $,t as I,b as O,d as j,F as K,N as W,f as Y}from"./index-CWrukWNz.js";import{d as E,c as G,a,r as H,b as J,e as C,w as F,o as Q,f as X}from"./index-C-ExV5hx.js";const[Z,y]=V("loading"),ee=Array(12).fill(null).map((n,r)=>a("i",{class:y("line",String(r+1))},null)),ne=a("svg",{class:y("circular"),viewBox:"25 25 50 50"},[a("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),te={size:k,type:S("circular"),color:String,vertical:Boolean,textSize:k,textColor:String};var oe=E({name:Z,props:te,setup(n,{slots:r}){const c=G(()=>R({color:n.color},A(n.size))),o=()=>{const s=n.type==="spinner"?ee:ne;return a("span",{class:y("spinner",n.type),style:c.value},[r.icon?r.icon():s])},g=()=>{var s;if(r.default)return a("span",{class:y("text"),style:{fontSize:q(n.textSize),color:(s=n.textColor)!=null?s:n.color}},[r.default()])};return()=>{const{type:s,vertical:v}=n;return a("div",{class:y([s,{vertical:v}]),"aria-live":"polite","aria-busy":!0},[o(),g()])}}});const le=T(oe),[ae,p]=V("button"),ie=R({},D,{tag:S("button"),text:String,icon:String,type:S("default"),size:S("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:S("button"),loadingSize:k,loadingText:String,loadingType:String,iconPosition:S("left")});var re=E({name:ae,props:ie,emits:["click"],setup(n,{emit:r,slots:c}){const o=L(),g=()=>c.loading?c.loading():a(le,{size:n.loadingSize,type:n.loadingType,class:p("loading")},null),s=()=>{if(n.loading)return g();if(c.icon)return a("div",{class:p("icon")},[c.icon()]);if(n.icon)return a(M,{name:n.icon,class:p("icon"),classPrefix:n.iconPrefix},null)},v=()=>{let l;if(n.loading?l=n.loadingText:l=c.default?c.default():n.text,l)return a("span",{class:p("text")},[l])},h=()=>{const{color:l,plain:b}=n;if(l){const m={color:b?l:"white"};return b||(m.background=l),l.includes("gradient")?m.border=0:m.borderColor=l,m}},f=l=>{n.loading?$(l):n.disabled||(r("click",l),o())};return()=>{const{tag:l,type:b,size:m,block:_,round:x,plain:B,square:P,loading:e,disabled:t,hairline:i,nativeType:d,iconPosition:u}=n,w=[p([b,m,{plain:B,block:_,round:x,square:P,loading:e,disabled:t,hairline:i}]),{[U]:i}];return a(l,{type:d,class:w,style:h(),disabled:t,onClick:f},{default:()=>[a("div",{class:p("content")},[u==="left"&&s(),v(),u==="right"&&s()])]})}}});const se=T(re),[ce,de]=V("form"),ue={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:k,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:I,showErrorMessage:I,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var fe=E({name:ce,props:ue,emits:["submit","failed"],setup(n,{emit:r,slots:c}){const{children:o,linkChildren:g}=O(K),s=e=>e?o.filter(t=>e.includes(t.name)):o,v=e=>new Promise((t,i)=>{const d=[];s(e).reduce((w,N)=>w.then(()=>{if(!d.length)return N.validate().then(z=>{z&&d.push(z)})}),Promise.resolve()).then(()=>{d.length?i(d):t()})}),h=e=>new Promise((t,i)=>{const d=s(e);Promise.all(d.map(u=>u.validate())).then(u=>{u=u.filter(Boolean),u.length?i(u):t()})}),f=e=>{const t=o.find(i=>i.name===e);return t?new Promise((i,d)=>{t.validate().then(u=>{u?d(u):i()})}):Promise.reject()},l=e=>typeof e=="string"?f(e):n.validateFirst?v(e):h(e),b=e=>{typeof e=="string"&&(e=[e]),s(e).forEach(i=>{i.resetValidation()})},m=()=>o.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),_=(e,t)=>{o.some(i=>i.name===e?(i.$el.scrollIntoView(t),!0):!1)},x=()=>o.reduce((e,t)=>(t.name!==void 0&&(e[t.name]=t.formValue.value),e),{}),B=()=>{const e=x();l().then(()=>r("submit",e)).catch(t=>{r("failed",{values:e,errors:t});const{scrollToError:i,scrollToErrorPosition:d}=n;i&&t[0].name&&_(t[0].name,d?{block:d}:void 0)})},P=e=>{$(e),B()};return g({props:n}),j({submit:B,validate:l,getValues:x,scrollToField:_,resetValidation:b,getValidationStatus:m}),()=>{var e;return a("form",{class:de(),onSubmit:P},[(e=c.default)==null?void 0:e.call(c)])}}});const me=T(fe),ge={class:"App"},ve={class:"van-nav-bar-container"},be={class:"login-index"},pe={style:{margin:"30px"}},ye={__name:"LoginIndex",setup(n){const r=H({username:"",password:""});return(c,o)=>{const g=W,s=Y,v=se,h=me;return Q(),J("div",ge,[C("div",ve,[a(g,{title:"登录页面","left-text":"返回","right-text":"注册","left-arrow":"",onClickLeft:c.onClickLeft,onClickRight:c.onClickRight},null,8,["onClickLeft","onClickRight"])]),C("div",be,[a(h,{onSubmit:c.onSubmit},{default:F(()=>[a(s,{modelValue:r.value.username,"onUpdate:modelValue":o[0]||(o[0]=f=>r.value.username=f),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),a(s,{modelValue:r.value.password,"onUpdate:modelValue":o[1]||(o[1]=f=>r.value.password=f),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),C("div",pe,[a(v,{round:"",block:"",type:"info","native-type":"submit",onClick:o[2]||(o[2]=f=>this.$router.push({path:"/home"}))},{default:F(()=>o[3]||(o[3]=[X("登入")])),_:1})])]),_:1},8,["onSubmit"])])])}}};export{ye as default};
