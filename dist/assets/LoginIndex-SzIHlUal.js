import{n as k,m as w,c as I,e as $,g as D,a as O,w as E,B as j,I as K,p as L,t as q,u as W,F as Y,N as G}from"./index-w7905Dpb.js";import{u as H,r as J,a as Q,F as X}from"./index-CmPHcg86.js";import{d as z,c as Z,a as o,_ as ee,r as T,o as te,b as ne,e as V,w as x,T as R,u as oe,f as le,g as N,h as U,v as A}from"./index-tiaDzyvy.js";const[ae,P]=I("loading"),se=Array(12).fill(null).map((t,u)=>o("i",{class:P("line",String(u+1))},null)),ie=o("svg",{class:P("circular"),viewBox:"25 25 50 50"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),re={size:k,type:w("circular"),color:String,vertical:Boolean,textSize:k,textColor:String};var ue=z({name:ae,props:re,setup(t,{slots:u}){const s=Z(()=>$({color:t.color},D(t.size))),f=()=>{const r=t.type==="spinner"?se:ie;return o("span",{class:P("spinner",t.type),style:s.value},[u.icon?u.icon():r])},d=()=>{var r;if(u.default)return o("span",{class:P("text"),style:{fontSize:O(t.textSize),color:(r=t.textColor)!=null?r:t.color}},[u.default()])};return()=>{const{type:r,vertical:g}=t;return o("div",{class:P([r,{vertical:g}]),"aria-live":"polite","aria-busy":!0},[f(),d()])}}});const de=E(ue),[ce,h]=I("button"),me=$({},J,{tag:w("button"),text:String,icon:String,type:w("default"),size:w("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:w("button"),loadingSize:k,loadingText:String,loadingType:String,iconPosition:w("left")});var fe=z({name:ce,props:me,emits:["click"],setup(t,{emit:u,slots:s}){const f=H(),d=()=>s.loading?s.loading():o(de,{size:t.loadingSize,type:t.loadingType,class:h("loading")},null),r=()=>{if(t.loading)return d();if(s.icon)return o("div",{class:h("icon")},[s.icon()]);if(t.icon)return o(K,{name:t.icon,class:h("icon"),classPrefix:t.iconPrefix},null)},g=()=>{let l;if(t.loading?l=t.loadingText:l=s.default?s.default():t.text,l)return o("span",{class:h("text")},[l])},p=()=>{const{color:l,plain:b}=t;if(l){const a={color:b?l:"white"};return b||(a.background=l),l.includes("gradient")?a.border=0:a.borderColor=l,a}},B=l=>{t.loading?L(l):t.disabled||(u("click",l),f())};return()=>{const{tag:l,type:b,size:a,block:y,round:v,plain:_,square:S,loading:e,disabled:n,hairline:i,nativeType:c,iconPosition:m}=t,C=[h([b,a,{plain:_,block:y,round:v,square:S,loading:e,disabled:n,hairline:i}]),{[j]:i}];return o(l,{type:c,class:C,style:p(),disabled:n,onClick:B},{default:()=>[o("div",{class:h("content")},[m==="left"&&r(),g(),m==="right"&&r()])]})}}});const ve=E(fe),[ge,pe]=I("form"),be={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:k,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:q,showErrorMessage:q,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var _e=z({name:ge,props:be,emits:["submit","failed"],setup(t,{emit:u,slots:s}){const{children:f,linkChildren:d}=W(Y),r=e=>e?f.filter(n=>e.includes(n.name)):f,g=e=>new Promise((n,i)=>{const c=[];r(e).reduce((C,M)=>C.then(()=>{if(!c.length)return M.validate().then(F=>{F&&c.push(F)})}),Promise.resolve()).then(()=>{c.length?i(c):n()})}),p=e=>new Promise((n,i)=>{const c=r(e);Promise.all(c.map(m=>m.validate())).then(m=>{m=m.filter(Boolean),m.length?i(m):n()})}),B=e=>{const n=f.find(i=>i.name===e);return n?new Promise((i,c)=>{n.validate().then(m=>{m?c(m):i()})}):Promise.reject()},l=e=>typeof e=="string"?B(e):t.validateFirst?g(e):p(e),b=e=>{typeof e=="string"&&(e=[e]),r(e).forEach(i=>{i.resetValidation()})},a=()=>f.reduce((e,n)=>(e[n.name]=n.getValidationStatus(),e),{}),y=(e,n)=>{f.some(i=>i.name===e?(i.$el.scrollIntoView(n),!0):!1)},v=()=>f.reduce((e,n)=>(n.name!==void 0&&(e[n.name]=n.formValue.value),e),{}),_=()=>{const e=v();l().then(()=>u("submit",e)).catch(n=>{u("failed",{values:e,errors:n});const{scrollToError:i,scrollToErrorPosition:c}=t;i&&n[0].name&&y(n[0].name,c?{block:c}:void 0)})},S=e=>{L(e),_()};return d({props:t}),Q({submit:_,validate:l,getValues:v,scrollToField:y,resetValidation:b,getValidationStatus:a}),()=>{var e;return o("form",{class:pe(),onSubmit:S},[(e=s.default)==null?void 0:e.call(s)])}}});const ye=E(_e),Se={class:"App"},xe={class:"van-nav-bar-container"},he={class:"login-index"},we={style:{margin:"30px"}},Be={class:"login-index"},Ve={style:{margin:"30px"}},Pe={__name:"LoginIndex",setup(t){const u=oe(),s=T({username:"",password:""}),f=()=>{s.value.username==="jinpost"&&s.value.password==="123456"?u.push("/home"):alert("用户名或密码错误！")},d=T({username:"",password:"",password2:""}),r=()=>{console.log(d.value),alert("我没写这里的功能")},g=()=>{u.go(-1)},p=T(!1),B=()=>{l.value===!0?(l.value=!1,setTimeout(()=>{p.value=!0},500)):(p.value=!1,setTimeout(()=>{l.value=!0},500))},l=T(!1);return te(()=>{setTimeout(()=>{l.value=!0},500)}),(b,a)=>{const y=G,v=X,_=ve,S=ye;return le(),ne("div",Se,[V("div",xe,[o(y,{title:"登录页面","left-text":"返回","right-text":"注册","left-arrow":"",onClickLeft:g,onClickRight:B})]),o(R,{name:"van-slide-down"},{default:x(()=>[N(V("div",he,[o(S,{onSubmit:f},{default:x(()=>[o(v,{modelValue:s.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.username=e),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(v,{modelValue:s.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value.password=e),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),V("div",we,[o(_,{round:"",block:"",type:"info","native-type":"submit"},{default:x(()=>a[5]||(a[5]=[U("登入")])),_:1})])]),_:1})],512),[[A,l.value]])]),_:1}),o(R,{name:"van-slide-down"},{default:x(()=>[N(V("div",Be,[o(S,{onSubmit:r},{default:x(()=>[o(v,{modelValue:d.value.username,"onUpdate:modelValue":a[2]||(a[2]=e=>d.value.username=e),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(v,{modelValue:d.value.password,"onUpdate:modelValue":a[3]||(a[3]=e=>d.value.password=e),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(v,{modelValue:d.value.password2,"onUpdate:modelValue":a[4]||(a[4]=e=>d.value.password2=e),type:"password",name:"确认密码",label:"确认密码",placeholder:"密码",rules:[{required:!0,message:"请填写确认密码"}]},null,8,["modelValue"]),V("div",Ve,[o(_,{round:"",block:"",type:"info","native-type":"submit"},{default:x(()=>a[6]||(a[6]=[U("注册")])),_:1})])]),_:1})],512),[[A,p.value]])]),_:1})])}}},Ie=ee(Pe,[["__scopeId","data-v-f38c5274"]]);export{Ie as default};
